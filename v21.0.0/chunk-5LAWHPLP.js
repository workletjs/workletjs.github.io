import{a as M}from"./chunk-KKMHZN5P.js";import{a as v}from"./chunk-JPS4IYQ2.js";import{v as C}from"./chunk-7DTCWPUW.js";import{Aa as w,Ba as p,P as d,S as s,Sb as l,Tb as o,Wb as h,_ as c,ca as f,fa as m,kb as u,lb as g,ra as y}from"./chunk-DTKK3HU7.js";var I=["*"],S=class a{wolActive=h(!0);wolCondition=o();wolDeleteCondition=o();wolInsertVertexCondition=o();wolPixelTolerance=o();wolStyle=o();wolSource=o();wolHitDetection=o();wolFeatures=o();wolWrapX=o();wolSnapToPointer=o();wolProperties=o();wolChange=l();wolError=l();wolModifyEnd=l();wolModifyStart=l();wolPropertyChange=l();modifyInstance=f(void 0);constructor(){let r=s(c),n=v("Modify"),t={};y(()=>{let e=new M({condition:this.wolCondition(),deleteCondition:this.wolDeleteCondition(),insertVertexCondition:this.wolInsertVertexCondition(),pixelTolerance:this.wolPixelTolerance(),style:this.wolStyle(),source:this.wolSource(),hitDetection:this.wolHitDetection(),features:this.wolFeatures(),wrapX:this.wolWrapX(),snapToPointer:this.wolSnapToPointer()});e.setActive(this.wolActive()),this.wolProperties()&&e.setProperties(this.wolProperties()??{},!0),t.change=e.on("change",i=>this.wolChange.emit(i)),t["change:active"]=e.on("change:active",()=>this.wolActive.set(e.getActive())),t.error=e.on("error",i=>this.wolError.emit(i)),t.modifyend=e.on("modifyend",i=>this.wolModifyEnd.emit(i)),t.modifystart=e.on("modifystart",i=>this.wolModifyStart.emit(i)),t.propertychange=e.on("propertychange",i=>this.wolPropertyChange.emit(i)),Promise.resolve().then(()=>{n.addInteraction(e)}),this.modifyInstance.set(e)}),r.onDestroy(()=>{let e=this.modifyInstance();e&&(C(Object.values(t)),n.removeInteraction(e),e.dispose(),this.modifyInstance.set(void 0))})}ngOnChanges(r){if(this.modifyInstance())for(let[n,t]of Object.entries(r))switch(n){case"wolActive":this.modifyInstance()?.setActive(t.currentValue);break;case"wolProperties":this.modifyInstance()?.setProperties(t.currentValue??{});break}}getInstance(){return this.modifyInstance()}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=w({type:a,selectors:[["wol-modify-interaction"]],inputs:{wolActive:[1,"wolActive"],wolCondition:[1,"wolCondition"],wolDeleteCondition:[1,"wolDeleteCondition"],wolInsertVertexCondition:[1,"wolInsertVertexCondition"],wolPixelTolerance:[1,"wolPixelTolerance"],wolStyle:[1,"wolStyle"],wolSource:[1,"wolSource"],wolHitDetection:[1,"wolHitDetection"],wolFeatures:[1,"wolFeatures"],wolWrapX:[1,"wolWrapX"],wolSnapToPointer:[1,"wolSnapToPointer"],wolProperties:[1,"wolProperties"]},outputs:{wolActive:"wolActiveChange",wolChange:"wolChange",wolError:"wolError",wolModifyEnd:"wolModifyEnd",wolModifyStart:"wolModifyStart",wolPropertyChange:"wolPropertyChange"},exportAs:["wolModifyInteraction"],features:[m],ngContentSelectors:I,decls:1,vars:0,template:function(n,t){n&1&&(u(),g(0))},encapsulation:2,changeDetection:0})};var D=class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=p({type:a});static \u0275inj=d({})};export{S as a,D as b};
