var l={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Q(r){let o=X();for(let i=0,n=r.length;i<n;++i)q(o,r[i]);return o}function Y(r,o,i){let n=Math.min.apply(null,r),u=Math.min.apply(null,o),t=Math.max.apply(null,r),s=Math.max.apply(null,o);return w(n,u,t,s,i)}function Z(r,o,i){return i?(i[0]=r[0]-o,i[1]=r[1]-o,i[2]=r[2]+o,i[3]=r[3]+o,i):[r[0]-o,r[1]-o,r[2]+o,r[3]+o]}function $(r,o){return o?(o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o):r.slice()}function j(r,o,i){let n,u;return o<r[0]?n=r[0]-o:r[2]<o?n=o-r[2]:n=0,i<r[1]?u=r[1]-i:r[3]<i?u=i-r[3]:u=0,n*n+u*u}function k(r,o){return b(r,o[0],o[1])}function v(r,o){return r[0]<=o[0]&&o[2]<=r[2]&&r[1]<=o[1]&&o[3]<=r[3]}function b(r,o,i){return r[0]<=o&&o<=r[2]&&r[1]<=i&&i<=r[3]}function R(r,o){let i=r[0],n=r[1],u=r[2],t=r[3],s=o[0],c=o[1],f=l.UNKNOWN;return s<i?f=f|l.LEFT:s>u&&(f=f|l.RIGHT),c<n?f=f|l.BELOW:c>t&&(f=f|l.ABOVE),f===l.UNKNOWN&&(f=l.INTERSECTING),f}function X(){return[1/0,1/0,-1/0,-1/0]}function w(r,o,i,n,u){return u?(u[0]=r,u[1]=o,u[2]=i,u[3]=n,u):[r,o,i,n]}function S(r){return w(1/0,1/0,-1/0,-1/0,r)}function x(r,o){let i=r[0],n=r[1];return w(i,n,i,n,o)}function rr(r,o,i,n,u){let t=S(u);return L(t,r,o,i,n)}function or(r,o){return r[0]==o[0]&&r[2]==o[2]&&r[1]==o[1]&&r[3]==o[3]}function nr(r,o,i){return Math.abs(r[0]-o[0])<i&&Math.abs(r[2]-o[2])<i&&Math.abs(r[1]-o[1])<i&&Math.abs(r[3]-o[3])<i}function ir(r,o){return o[0]<r[0]&&(r[0]=o[0]),o[2]>r[2]&&(r[2]=o[2]),o[1]<r[1]&&(r[1]=o[1]),o[3]>r[3]&&(r[3]=o[3]),r}function q(r,o){o[0]<r[0]&&(r[0]=o[0]),o[0]>r[2]&&(r[2]=o[0]),o[1]<r[1]&&(r[1]=o[1]),o[1]>r[3]&&(r[3]=o[1])}function L(r,o,i,n,u){for(;i<n;i+=u)B(r,o[i],o[i+1]);return r}function B(r,o,i){r[0]=Math.min(r[0],o),r[1]=Math.min(r[1],i),r[2]=Math.max(r[2],o),r[3]=Math.max(r[3],i)}function ur(r,o){let i;return i=o(O(r)),i||(i=o(T(r)),i)||(i=o(A(r)),i)||(i=o(N(r)),i)?i:!1}function fr(r){let o=0;return F(r)||(o=M(r)*V(r)),o}function O(r){return[r[0],r[1]]}function T(r){return[r[2],r[1]]}function U(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function cr(r,o){let i;if(o==="bottom-left")i=O(r);else if(o==="bottom-right")i=T(r);else if(o==="top-left")i=N(r);else if(o==="top-right")i=A(r);else throw new Error("Invalid corner");return i}function tr(r,o,i,n,u){let[t,s,c,f,p,g,m,a]=G(r,o,i,n);return w(Math.min(t,c,p,m),Math.min(s,f,g,a),Math.max(t,c,p,m),Math.max(s,f,g,a),u)}function G(r,o,i,n){let u=o*n[0]/2,t=o*n[1]/2,s=Math.cos(i),c=Math.sin(i),f=u*s,p=u*c,g=t*s,m=t*c,a=r[0],h=r[1];return[a-f+m,h-p-g,a-f-m,h-p+g,a+f-m,h+p+g,a+f+m,h+p-g,a-f+m,h-p-g]}function V(r){return r[3]-r[1]}function sr(r,o,i){let n=i||X();return D(r,o)?(r[0]>o[0]?n[0]=r[0]:n[0]=o[0],r[1]>o[1]?n[1]=r[1]:n[1]=o[1],r[2]<o[2]?n[2]=r[2]:n[2]=o[2],r[3]<o[3]?n[3]=r[3]:n[3]=o[3]):S(n),n}function N(r){return[r[0],r[3]]}function A(r){return[r[2],r[3]]}function M(r){return r[2]-r[0]}function D(r,o){return r[0]<=o[2]&&r[2]>=o[0]&&r[1]<=o[3]&&r[3]>=o[1]}function F(r){return r[2]<r[0]||r[3]<r[1]}function pr(r,o){return o?(o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o):r}function lr(r,o){let i=(r[2]-r[0])/2*(o-1),n=(r[3]-r[1])/2*(o-1);r[0]-=i,r[2]+=i,r[1]-=n,r[3]+=n}function ar(r,o,i){let n=!1,u=R(r,o),t=R(r,i);if(u===l.INTERSECTING||t===l.INTERSECTING)n=!0;else{let s=r[0],c=r[1],f=r[2],p=r[3],g=o[0],m=o[1],a=i[0],h=i[1],I=(h-m)/(a-g),y,E;t&l.ABOVE&&!(u&l.ABOVE)&&(y=a-(h-p)/I,n=y>=s&&y<=f),!n&&t&l.RIGHT&&!(u&l.RIGHT)&&(E=h-(a-f)*I,n=E>=c&&E<=p),!n&&t&l.BELOW&&!(u&l.BELOW)&&(y=a-(h-c)/I,n=y>=s&&y<=f),!n&&t&l.LEFT&&!(u&l.LEFT)&&(E=h-(a-s)*I,n=E>=c&&E<=p)}return n}function hr(r,o,i,n){if(F(r))return S(i);let u=[];if(n>1){let c=r[2]-r[0],f=r[3]-r[1];for(let p=0;p<n;++p)u.push(r[0]+c*p/n,r[1],r[2],r[1]+f*p/n,r[2]-c*p/n,r[3],r[0],r[3]-f*p/n)}else u=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];o(u,u,2);let t=[],s=[];for(let c=0,f=u.length;c<f;c+=2)t.push(u[c]),s.push(u[c+1]);return Y(t,s,i)}function H(r,o){let i=o.getExtent(),n=U(r);if(o.canWrapX()&&(n[0]<i[0]||n[0]>=i[2])){let u=M(i),s=Math.floor((n[0]-i[0])/u)*u;r[0]-=s,r[2]-=s}return r}function gr(r,o,i){if(o.canWrapX()){let n=o.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[n[0],r[1],n[2],r[3]]];H(r,o);let u=M(n);if(M(r)>u&&!i)return[[n[0],r[1],n[2],r[3]]];if(r[0]<n[0])return[[r[0]+u,r[1],n[2],r[3]],[n[0],r[1],r[2],r[3]]];if(r[2]>n[2])return[[r[0],r[1],n[2],r[3]],[n[0],r[1],r[2]-u,r[3]]]}return[r]}function Mr(r,o,i){return Math.min(Math.max(r,o),i)}function yr(r,o,i,n,u,t){let s=u-i,c=t-n;if(s!==0||c!==0){let f=((r-i)*s+(o-n)*c)/(s*s+c*c);f>1?(i=u,n=t):f>0&&(i+=s*f,n+=c*f)}return K(r,o,i,n)}function K(r,o,i,n){let u=i-r,t=n-o;return u*u+t*t}function Er(r){let o=r.length;for(let n=0;n<o;n++){let u=n,t=Math.abs(r[n][n]);for(let c=n+1;c<o;c++){let f=Math.abs(r[c][n]);f>t&&(t=f,u=c)}if(t===0)return null;let s=r[u];r[u]=r[n],r[n]=s;for(let c=n+1;c<o;c++){let f=-r[c][n]/r[n][n];for(let p=n;p<o+1;p++)n==p?r[c][p]=0:r[c][p]+=f*r[n][p]}}let i=new Array(o);for(let n=o-1;n>=0;n--){i[n]=r[n][o]/r[n][n];for(let u=n-1;u>=0;u--)r[u][o]-=r[u][n]*i[n]}return i}function dr(r){return r*180/Math.PI}function Ir(r){return r*Math.PI/180}function C(r,o){let i=r%o;return i*o<0?i+o:i}function wr(r,o,i){return r+i*(o-r)}function d(r,o){let i=Math.pow(10,o);return Math.round(r*i)/i}function Sr(r,o){return Math.round(d(r,o))}function er(r,o){return Math.floor(d(r,o))}function Rr(r,o){return Math.ceil(d(r,o))}function Xr(r,o,i){if(r>=o&&r<i)return r;let n=i-o;return((r-o)%n+n)%n+o}function e(r,o,i){let n=i!==void 0?r.toFixed(i):""+r,u=n.indexOf(".");return u=u===-1?n.length:u,u>o?n:new Array(1+o-u).join("0")+n}function Tr(r,o){let i=(""+r).split("."),n=(""+o).split(".");for(let u=0;u<Math.max(i.length,n.length);u++){let t=parseInt(i[u]||"0",10),s=parseInt(n[u]||"0",10);if(t>s)return 1;if(s>t)return-1}return 0}function Wr(r,o){return r[0]+=+o[0],r[1]+=+o[1],r}function W(r,o,i){let n=C(o+180,360)-180,u=Math.abs(3600*n),t=i||0,s=Math.floor(u/3600),c=Math.floor((u-s*3600)/60),f=d(u-s*3600-c*60,t);f>=60&&(f=0,c+=1),c>=60&&(c=0,s+=1);let p=s+"\xB0";return(c!==0||f!==0)&&(p+=" "+e(c,2)+"\u2032"),f!==0&&(p+=" "+e(f,2,t)+"\u2033"),n!==0&&(p+=" "+r.charAt(n<0?1:0)),p}function z(r,o,i){return r?o.replace("{x}",r[0].toFixed(i)).replace("{y}",r[1].toFixed(i)):""}function Yr(r,o){let i=!0;for(let n=r.length-1;n>=0;--n)if(r[n]!=o[n]){i=!1;break}return i}function br(r,o){let i=Math.cos(o),n=Math.sin(o),u=r[0]*i-r[1]*n,t=r[1]*i+r[0]*n;return r[0]=u,r[1]=t,r}function qr(r,o){return r[0]*=o,r[1]*=o,r}function Lr(r,o){return r?W("NS",r[1],o)+" "+W("EW",r[0],o):""}function Br(r,o){return z(r,"{x}, {y}",o)}function Ur(r,o){if(o.canWrapX()){let i=M(o.getExtent()),n=P(r,o,i);n&&(r[0]-=n*i)}return r}function P(r,o,i){let n=o.getExtent(),u=0;return o.canWrapX()&&(r[0]<n[0]||r[0]>n[2])&&(i=i||M(n),u=Math.floor((r[0]-n[0])/i)),u}export{l as a,Q as b,Z as c,$ as d,j as e,k as f,v as g,b as h,R as i,X as j,w as k,S as l,x as m,rr as n,or as o,nr as p,ir as q,q as r,L as s,ur as t,fr as u,O as v,T as w,U as x,cr as y,tr as z,G as A,V as B,sr as C,N as D,A as E,M as F,D as G,F as H,pr as I,lr as J,ar as K,hr as L,H as M,gr as N,Mr as O,yr as P,K as Q,Er as R,dr as S,Ir as T,C as U,wr as V,d as W,Sr as X,er as Y,Rr as Z,Xr as _,Tr as $,Wr as aa,W as ba,z as ca,Yr as da,br as ea,qr as fa,Lr as ga,Br as ha,Ur as ia,P as ja};
