import{a as c}from"./chunk-R6LUBEZR.js";import{b as s,c as u,d as m}from"./chunk-ON5B343R.js";var L=new Error("Image failed to load");function k(r,e,t,a,n){return new Promise((i,w)=>{let l=new Image;l.crossOrigin=n.crossOrigin??null,l.addEventListener("load",()=>i(l)),l.addEventListener("error",()=>w(L)),l.src=s(r,e,t,a,n.maxY)})}function d(r){return function(e,t,a,n){let i=u(r,e,t,a);return k(i,e,t,a,n)}}function b(r){return function(e,t,a,n){let i=r(e,t,a,n);return k(i,e,t,a,n)}}function f(r){let e;if(Array.isArray(r))e=d(r);else if(typeof r=="string"){let t=m(r);e=d(t)}else if(typeof r=="function")e=b(r);else throw new Error("The url option must be a single template, an array of templates, or a function for getting a URL");return e}var g=0;function y(r){return Array.isArray(r)?r.join(`
`):typeof r=="string"?r:(++g,"url-function-key-"+g)}var o=class extends c{constructor(e){e=e||{};let t=e.loader,a;e.url&&(t=f(e.url),a=y(e.url));let n=t?e.state:"loading",i=e.wrapX===void 0?!0:e.wrapX;super({loader:t,key:a,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize,gutter:e.gutter,maxResolution:e.maxResolution,projection:e.projection,tileGrid:e.tileGrid,state:n,wrapX:i,transition:e.transition,interpolate:e.interpolate!==!1,crossOrigin:e.crossOrigin,zDirection:e.zDirection})}setUrl(e){let t=f(e);this.setLoader(t),this.setKey(y(e)),this.getState()!=="ready"&&this.setState("ready")}},U=o;export{U as a};
