import{kb as f,lb as i,nb as r}from"./chunk-44OYYGSI.js";var u=class extends r{constructor(t){t=t||{},super(t),this.condition_=t.condition?t.condition:f,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=t.duration!==void 0?t.duration:400}handleDragEvent(t){if(!i(t))return;let a=t.map,e=a.getSize(),n=t.pixel,s=n[0]-e[0]/2,l=e[1]/2-n[1],c=Math.atan2(l,s),d=Math.sqrt(s*s+l*l),h=a.getView();if(this.lastAngle_!==void 0){let o=this.lastAngle_-c;h.adjustRotationInternal(o)}this.lastAngle_=c,this.lastMagnitude_!==void 0&&h.adjustResolutionInternal(this.lastMagnitude_/d),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/d),this.lastMagnitude_=d}handleUpEvent(t){if(!i(t))return!0;let e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1}handleDownEvent(t){return i(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1}},m=u;export{m as a};
