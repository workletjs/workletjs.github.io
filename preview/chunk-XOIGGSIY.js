import{d as m,e as _,f}from"./chunk-WTXUTPZB.js";import{d as g,f as c}from"./chunk-BXO4DWCA.js";import{Hc as o,Qb as l}from"./chunk-KLQFVSYB.js";import{m as h,x as d}from"./chunk-XGVPHTK5.js";import{a as s}from"./chunk-TWZW5B45.js";var u=class extends c{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:g,this.params_=Object.assign({},e.params),this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,r,n,a){let t=h(n),i=this.getProjection();i&&i!==t&&(r=o(i,t,e,r),e=d(e,t,i));let p={url:this.url_,params:s(s({},this.params_),a),projection:i||t};return _(p,e,r)}getLegendUrl(e,r){return f({url:this.url_,params:s(s({},this.params_),r)},e)}getParams(){return this.params_}getImageInternal(e,r,n,a){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==a)&&(this.loaderProjection_=a,this.loader=m({crossOrigin:this.crossOrigin_,params:this.params_,projection:a,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,i)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,i),l(t))})),super.getImageInternal(e,r,n,a))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}setParams(e){this.params_=Object.assign({},e),this.changed()}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}},b=u;export{b as a};
