import{d as x,f as E}from"./chunk-L3AAFSM7.js";import{N as a,O as h,a as d}from"./chunk-5QSZOAPF.js";import{m as f}from"./chunk-XVBTN5DM.js";import{B as u,F as c,G as l}from"./chunk-WEL5MCWD.js";function I(i){let e=i.load||a,t=i.imageExtent,o=i.crossOrigin??null;return()=>{let r=new Image;return r.crossOrigin=o,e(r,i.url).then(n=>{let s=c(t)/n.width,g=u(t)/n.height;return{image:n,extent:t,resolution:s!==g?[s,g]:g,pixelRatio:1}})}}var m=class extends E{constructor(e){let t=e.crossOrigin!==void 0?e.crossOrigin:null,o=e.imageLoadFunction!==void 0?e.imageLoadFunction:x;super({attributions:e.attributions,interpolate:e.interpolate,projection:f(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new h(this.imageExtent_,void 0,1,I({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,load:(r,n)=>(this.image.setImage(r),o(this.image,n),a(r))})),this.image.addEventListener(d.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,o,r){return l(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}},H=m;export{H as a};
