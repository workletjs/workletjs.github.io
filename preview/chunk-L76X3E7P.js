import{F as z,L as lt,O as H,S as k,T as E,U as ut,_ as D,ha as ht,qa as gt}from"./chunk-WEL5MCWD.js";var Dt={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function fe(e){return Dt[e]}var L={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var K=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||L[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},_=K;var Q={info:1,warn:2,error:3,none:4},dt=Q.info;function xt(...e){dt>Q.warn||console.warn(...e)}function ge(...e){dt>Q.error||console.error(...e)}var b=6378137,U=Math.PI*b,Wt=[-U,-U,U,U],Xt=[-180,-85,180,85],W=b*Math.log(Math.tan(Math.PI/2)),T=class extends _{constructor(t){super({code:t,units:"m",extent:Wt,global:!0,worldExtent:Xt,getPointResolution:function(n,r){return n/Math.cosh(r[1]/b)}})}},Y=[new T("EPSG:3857"),new T("EPSG:102100"),new T("EPSG:102113"),new T("EPSG:900913"),new T("http://www.opengis.net/def/crs/EPSG/0/3857"),new T("http://www.opengis.net/gml/srs/epsg.xml#3857")];function mt(e,t,n,r){let o=e.length;n=n>1?n:2,r=r??n,t===void 0&&(n>2?t=e.slice():t=new Array(o));for(let s=0;s<o;s+=r){t[s]=U*e[s]/180;let c=b*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));c>W?c=W:c<-W&&(c=-W),t[s+1]=c}return t}function Pt(e,t,n,r){let o=e.length;n=n>1?n:2,r=r??n,t===void 0&&(n>2?t=e.slice():t=new Array(o));for(let s=0;s<o;s+=r)t[s]=180*e[s]/U,t[s+1]=360*Math.atan(Math.exp(e[s+1]/b))/Math.PI-90;return t}var vt=6378137,Et=[-180,-90,180,90],qt=Math.PI*vt/180,M=class extends _{constructor(t,n){super({code:t,units:"degrees",extent:Et,axisOrientation:n,global:!0,metersPerUnit:qt,worldExtent:Et})}},Z=[new M("CRS:84"),new M("EPSG:4326","neu"),new M("urn:ogc:def:crs:OGC:1.3:CRS84"),new M("urn:ogc:def:crs:OGC:2:84"),new M("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new M("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new M("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var V={};function Mt(e){return V[e]||V[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function wt(e,t){V[e]=t}function we(e){for(let t in e)delete e[t]}function Te(e){let t;for(t in e)return!1;return!t}var G={};function p(e,t,n){let r=e.getCode(),o=t.getCode();r in G||(G[r]={}),G[r][o]=n}function X(e,t){return e in G&&t in G[e]?G[e][t]:null}var v=.9996,u=.00669438,j=u*u,$=j*u,C=u/(1-u),Tt=Math.sqrt(1-u),R=(1-Tt)/(1+Tt),Ct=R*R,tt=Ct*R,et=tt*R,Ut=et*R,Gt=1-u/4-3*j/64-5*$/256,jt=3*u/8+3*j/32+45*$/1024,$t=15*j/256+45*$/1024,Jt=35*$/3072,Bt=3/2*R-27/32*tt+269/512*Ut,zt=21/16*Ct-55/32*et,Ht=151/96*tt-417/128*Ut,Kt=1097/512*et,q=6378137;function Qt(e,t,n){let r=e-5e5,c=(n.north?t:t-1e7)/v/(q*Gt),a=c+Bt*Math.sin(2*c)+zt*Math.sin(4*c)+Ht*Math.sin(6*c)+Kt*Math.sin(8*c),i=Math.sin(a),f=i*i,l=Math.cos(a),S=i/l,d=S*S,w=d*d,x=1-u*f,F=Math.sqrt(1-u*f),O=q/F,A=(1-u)/x,m=C*l**2,I=m*m,P=r/(O*v),N=P*P,y=N*P,it=y*P,ft=it*P,Nt=ft*P,kt=a-S/A*(N/2-it/24*(5+3*d+10*m-4*I-9*C))+Nt/720*(61+90*d+298*m+45*w-252*C-3*I),B=(P-y/6*(1+2*d+m)+ft/120*(5-2*m+28*d-3*I+8*C+24*w))/l;return B=D(B+E(Rt(n.number)),-Math.PI,Math.PI),[k(B),k(kt)]}var pt=-80,St=84,Yt=-180,Zt=180;function Vt(e,t,n){e=D(e,Yt,Zt),t<pt?t=pt:t>St&&(t=St);let r=E(t),o=Math.sin(r),s=Math.cos(r),c=o/s,a=c*c,i=a*a,f=E(e),l=Rt(n.number),S=E(l),d=q/Math.sqrt(1-u*o**2),w=C*s**2,x=s*D(f-S,-Math.PI,Math.PI),F=x*x,O=F*x,A=O*x,m=A*x,I=m*x,P=q*(Gt*r-jt*Math.sin(2*r)+$t*Math.sin(4*r)-Jt*Math.sin(6*r)),N=v*d*(x+O/6*(1-a+w)+m/120*(5-18*a+i+72*w-58*C))+5e5,y=v*(P+d*c*(F/2+A/24*(5-a+9*w+4*w**2)+I/720*(61-58*a+i+600*w-330*C)));return n.north||(y+=1e7),[N,y]}function Rt(e){return(e-1)*6-180+3}var te=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function It(e){let t=0;for(let o of te){let s=e.match(o);if(s){t=parseInt(s[1]);break}}if(!t)return null;let n=0,r=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(r=!0,n=t-32600),n?{number:n,north:r}:null}function _t(e,t){return function(n,r,o,s){let c=n.length;o=o>1?o:2,s=s??o,r||(o>2?r=n.slice():r=new Array(c));for(let a=0;a<c;a+=s){let i=n[a],f=n[a+1],l=e(i,f,t);r[a]=l[0],r[a+1]=l[1]}return r}}function yt(e){return It(e)?new _({code:e,units:"m"}):null}function Lt(e){let t=It(e.getCode());return t?{forward:_t(Vt,t),inverse:_t(Qt,t)}:null}var ee=63710088e-1;function nt(e,t,n){n=n||ee;let r=E(e[1]),o=E(t[1]),s=(o-r)/2,c=E(t[0]-e[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(c)*Math.sin(c)*Math.cos(r)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var ne=[Lt],re=[yt];var ot=!0;function oe(e){ot=!(e===void 0?!0:e)}function ct(e,t){if(t!==void 0){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];t=t}else t=e.slice();return t}function je(e,t){if(t!==void 0&&e!==t){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function st(e){wt(e.getCode(),e),p(e,e,ct)}function se(e){e.forEach(st)}function h(e){if(typeof e!="string")return e;let t=Mt(e);if(t)return t;for(let n of re){let r=n(e);if(r)return r}return null}function $e(e,t,n,r){e=h(e);let o,s=e.getPointResolutionFunc();if(s){if(o=s(t,n),r&&r!==e.getUnits()){let c=e.getMetersPerUnit();c&&(o=o*c/L[r])}}else{let c=e.getUnits();if(c=="degrees"&&!r||r=="degrees")o=t;else{let a=at(e,h("EPSG:4326"));if(!a&&c!=="degrees")o=t*e.getMetersPerUnit();else{let f=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];f=a(f,f,2);let l=nt(f.slice(0,2),f.slice(2,4)),S=nt(f.slice(4,6),f.slice(6,8));o=(l+S)/2}let i=r?L[r]:e.getMetersPerUnit();i!==void 0&&(o/=i)}}return o}function bt(e){se(e),e.forEach(function(t){e.forEach(function(n){t!==n&&p(t,n,ct)})})}function ce(e,t,n,r){e.forEach(function(o){t.forEach(function(s){p(o,s,n),p(s,o,r)})})}function Je(e,t){return e?typeof e=="string"?h(e):e:h(t)}function Ft(e){return(function(t,n,r,o){let s=t.length;r=r!==void 0?r:2,o=o??r,n=n!==void 0?n:new Array(s);for(let c=0;c<s;c+=o){let a=e(t.slice(c,c+r)),i=a.length;for(let f=0,l=o;f<l;++f)n[c+f]=f>=i?t[c+f]:a[f]}return n})}function Be(e,t,n,r){let o=h(e),s=h(t);p(o,s,Ft(n)),p(s,o,Ft(r))}function ze(e,t){return oe(),J(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function He(e,t){let n=J(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=ut(r+180,360)-180),n}function Ke(e,t){if(e===t)return!0;let n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||at(e,t)===ct)&&n}function at(e,t){let n=e.getCode(),r=t.getCode(),o=X(n,r);if(o)return o;let s=null,c=null;for(let i of ne)s||(s=i(e)),c||(c=i(t));if(!s&&!c)return null;let a="EPSG:4326";if(c)if(s)o=rt(s.inverse,c.forward);else{let i=X(n,a);i&&(o=rt(i,c.forward))}else{let i=X(a,r);i&&(o=rt(s.inverse,i))}return o&&(st(e),st(t),p(e,t,o)),o}function rt(e,t){return function(n,r,o,s){return r=e(n,r,o,s),t(r,r,o,s)}}function Ot(e,t){let n=h(e),r=h(t);return at(n,r)}function J(e,t,n){let r=Ot(t,n);if(!r){let o=h(t).getCode(),s=h(n).getCode();throw new Error(`No transform available between ${o} and ${s}`)}return r(e,void 0,e.length)}function At(e,t,n,r){let o=Ot(t,n);return lt(e,o,void 0,r)}var g=null;function ae(e){g=h(e)}function Qe(){return g}function Ye(){ae("EPSG:4326")}function Ze(e,t){return g?J(e,t,g):e}function Ve(e,t){return g?J(e,g,t):(ot&&!ht(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(ot=!1,xt("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function tn(e,t){return g?At(e,t,g):e}function en(e,t){return g?At(e,g,t):e}function nn(e,t){if(!g)return e;let n=h(t).getMetersPerUnit(),r=g.getMetersPerUnit();return n&&r?e*n/r:e}function rn(e,t,n){return function(r){let o,s;if(e.canWrapX()){let c=e.getExtent(),a=z(c);r=r.slice(0),s=gt(r,e,a),s&&(r[0]=r[0]-s*a),r[0]=H(r[0],c[0],c[2]),r[1]=H(r[1],c[1],c[3]),o=n(r)}else o=n(r);return s&&t.canWrapX()&&(o[0]+=s*z(t.getExtent())),o}}function ie(){bt(Y),bt(Z),ce(Z,Y,mt,Pt)}ie();export{xt as a,ge as b,fe as c,L as d,_ as e,Mt as f,we as g,Te as h,X as i,oe as j,je as k,st as l,h as m,$e as n,bt as o,Je as p,Ft as q,Be as r,ze as s,He as t,Ke as u,at as v,Ot as w,J as x,At as y,Qe as z,Ye as A,Ze as B,Ve as C,tn as D,en as E,nn as F,rn as G};
