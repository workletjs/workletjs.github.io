import{b as g,d as T}from"./chunk-LEY2C2K6.js";import{a as s}from"./chunk-VOYZW2DD.js";import{h as m,i as F}from"./chunk-6BXHJXXJ.js";import{J as o,Oc as d,z as f}from"./chunk-44OYYGSI.js";import{U as h}from"./chunk-GF377ULF.js";function p(i,t){return(function(e,r,n){if(!e)return;let l,c=e[0];if(t){let a=t.getFullTileRange(c);a&&(l=a.getHeight()-1)}return g(i,c,e[1],e[2],l)})}function U(i,t){let e=i.length,r=new Array(e);for(let n=0;n<e;++n)r[n]=p(i[n],t);return L(r)}function L(i){return i.length===1?i[0]:(function(t,e,r){if(!t)return;let n=d(t),l=h(n,i.length);return i[l](t,e,r)})}function E(i,t,e){}var u=class i extends F{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===i.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){let e=t.target,r=f(e),n=e.getState(),l;n==o.LOADING?(this.tileLoadingKeys_[r]=!0,l=s.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],l=n==o.ERROR?s.TILELOADERROR:n==o.LOADED?s.TILELOADEND:void 0),l!=null&&this.dispatchEvent(new m(l,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,typeof e<"u"?this.setKey(e):this.changed()}setUrl(t){let e=T(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;let e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(U(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,r){}},z=u;export{U as a,L as b,E as c,z as d};
