import{a as F,k as G,l as O,m as w,n as R,o as T,p as L}from"./chunk-CHOLBFU4.js";import{Ga as j,Ha as h,Ia as x,Ja as M,La as A,wa as g,y as a}from"./chunk-XXB2L3KO.js";import{m as l,u as d,w as p}from"./chunk-S7COXUW4.js";import{a as P,b as y}from"./chunk-TWZW5B45.js";var m=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=F,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?l(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()==="tile-pixels"&&(n=l(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},t)}getType(){return a()}readFeature(t,e){return a()}readFeatures(t,e){return a()}readGeometry(t,e){return a()}readProjection(t){return a()}writeFeature(t,e){return a()}writeFeatures(t,e){return a()}writeGeometry(t,e){return a()}},H=m;function S(r,t,e){let n=e?l(e.featureProjection):null,o=e?l(e.dataProjection):null,i=r;if(n&&o&&!d(n,o)){t&&(i=r.clone());let u=t?n:o,s=t?o:n;u.getUnits()==="tile-pixels"?i.transform(u,s):i.applyTransform(p(u,s))}if(t&&e&&e.decimals!==void 0){let u=Math.pow(10,e.decimals),s=function(f){for(let c=0,E=f.length;c<E;++c)f[c]=Math.round(f[c]*u)/u;return f};i===r&&(i=r.clone()),i.applyTransform(s)}return i}var U={Point:g,LineString:O,Polygon:A,MultiPoint:R,MultiLineString:w,MultiPolygon:T};function W(r,t,e){return Array.isArray(t[0])?(h(r,0,t,e)||(r=r.slice(),M(r,0,t,e)),r):(j(r,0,t,e)||(r=r.slice(),x(r,0,t,e)),r)}function q(r,t){let e=r.geometry;if(!e)return[];if(Array.isArray(e))return e.map(i=>q(y(P({},r),{geometry:i}))).flat();let n=e.type==="MultiPolygon"?"Polygon":e.type;if(n==="GeometryCollection"||n==="Circle")throw new Error("Unsupported geometry type: "+n);let o=e.layout.length;return S(new L(n,n==="Polygon"?W(e.flatCoordinates,e.ends,o):e.flatCoordinates,e.ends?.flat(),o,r.properties||{},r.id).enableSimplifyTransformed(),!1,t)}function v(r,t){if(!r)return null;if(Array.isArray(r)){let n=r.map(o=>v(o,t));return new G(n)}let e=U[r.type];return S(new e(r.flatCoordinates,r.layout||"XY",r.ends),!1,t)}export{H as a,S as b,q as c,v as d};
