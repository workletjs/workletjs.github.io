import{a as We,b as Ae}from"./chunk-ZD3CAKWP.js";import{a as Ve,m as z,n as xe,o as Re,p as $e,q as qe}from"./chunk-XOIODCX2.js";import{La as Se,Nb as q,h as E,hc as ie,ic as Ee,jc as le,lc as Z,mc as Ne,wa as He,xb as Qe,y as Ke}from"./chunk-MT2Y2FGN.js";import{m as Ze}from"./chunk-L76X3E7P.js";import{$,T as Be}from"./chunk-WEL5MCWD.js";var Le="http://www.w3.org/2001/XMLSchema-instance";function W(r,e){return H().createElementNS(r,e)}function P(r,e){return Je(r,e,[]).join("")}function Je(r,e,t){if(r.nodeType==Node.CDATA_SECTION_NODE||r.nodeType==Node.TEXT_NODE)e?t.push(String(r.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(r.nodeValue);else{let n;for(n=r.firstChild;n;n=n.nextSibling)Je(n,e,t)}return t}function U(r){return"documentElement"in r}function G(r){return new DOMParser().parseFromString(r,"application/xml")}function Pe(r,e){return(function(t,n){let o=r.call(e??this,t,n);if(o!==void 0){let i=n[n.length-1];E(i,o)}})}function v(r,e){return(function(t,n){let o=r.call(e??this,t,n);o!==void 0&&n[n.length-1].push(o)})}function se(r,e){return(function(t,n){let o=r.call(e??this,t,n);o!==void 0&&(n[n.length-1]=o)})}function c(r,e,t){return(function(n,o){let i=r.call(t??this,n,o);if(i!==void 0){let l=o[o.length-1],s=e!==void 0?e:n.localName;l[s]=i}})}function m(r,e){return(function(t,n,o){r.call(e??this,t,n,o),o[o.length-1].node.appendChild(t)})}function Ao(r,e){let t,n;return function(o,i,l){if(t===void 0){t={};let s={};s[o.localName]=r,t[o.namespaceURI]=s,n=M(o.localName)}je(t,n,i,l)}}function M(r,e){return(function(t,n,o){let l=n[n.length-1].node,s=r;s===void 0&&(s=o);let a=e!==void 0?e:l.namespaceURI;return W(a,s)})}var F=M();function O(r,e){let t=e.length,n=new Array(t);for(let o=0;o<t;++o)n[o]=r[e[o]];return n}function f(r,e,t){t=t!==void 0?t:{};let n,o;for(n=0,o=r.length;n<o;++n)t[r[n]]=e;return t}function K(r,e,t,n){let o;for(o=e.firstElementChild;o;o=o.nextElementSibling){let i=r[o.namespaceURI];if(i!==void 0){let l=i[o.localName];l!==void 0&&l.call(n,o,t)}}}function y(r,e,t,n,o){return n.push(r),K(e,t,n,o),n.pop()}function je(r,e,t,n,o,i){let l=(o!==void 0?o:t).length,s,a;for(let u=0;u<l;++u)s=t[u],s!==void 0&&(a=e.call(i,s,n,o!==void 0?o[u]:void 0),a!==void 0&&r[a.namespaceURI][a.localName].call(i,a,s,n))}function N(r,e,t,n,o,i,l){return o.push(r),je(e,t,n,o,i,l),o.pop()}var _e;function et(){return _e===void 0&&typeof XMLSerializer<"u"&&(_e=new XMLSerializer),_e}var Te;function H(){return Te===void 0&&typeof document<"u"&&(Te=document.implementation.createDocument("","",null)),Te}var Fe=class extends We{constructor(){super(),this.xmlSerializer_=et()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if(typeof e=="string"){let n=G(e);return this.readFeatureFromDocument(n,t)}return U(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){let n=this.readFeaturesFromDocument(e,t);return n.length>0?n[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if(typeof e=="string"){let n=G(e);return this.readFeaturesFromDocument(n,t)}return U(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){let n=[];for(let o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&E(n,this.readFeaturesFromNode(o,t));return n}readFeaturesFromNode(e,t){return Ke()}readGeometry(e,t){if(!e)return null;if(typeof e=="string"){let n=G(e);return this.readGeometryFromDocument(n,t)}return U(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if(typeof e=="string"){let t=G(e);return this.readProjectionFromDocument(t)}return U(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){let n=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeatureNode(e,t){return null}writeFeatures(e,t){let n=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){let n=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(n)}writeGeometryNode(e,t){return null}},tt=Fe;function b(r){let e=P(r,!1);return wt(e)}function wt(r){let e=/^\s*(true|1)|(false|0)\s*$/.exec(r);if(e)return e[1]!==void 0||!1}function Oo(r){let e=P(r,!1),t=Date.parse(e);return isNaN(t)?void 0:t/1e3}function S(r){let e=P(r,!1);return Dt(e)}function Dt(r){let e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(r);if(e)return parseFloat(e[1])}function Co(r){let e=P(r,!1);return Ot(e)}function Ot(r){let e=/^\s*(\d+)\s*$/.exec(r);if(e)return parseInt(e[1],10)}function _(r){return P(r,!1).trim()}function Q(r,e){I(r,e?"1":"0")}function Ct(r,e){r.appendChild(H().createCDATASection(e))}function Mo(r,e){let t=new Date(e*1e3),n=t.getUTCFullYear()+"-"+$(t.getUTCMonth()+1,2)+"-"+$(t.getUTCDate(),2)+"T"+$(t.getUTCHours(),2)+":"+$(t.getUTCMinutes(),2)+":"+$(t.getUTCSeconds(),2)+"Z";r.appendChild(H().createTextNode(n))}function X(r,e){let t=e.toPrecision();r.appendChild(H().createTextNode(t))}function Uo(r,e){let t=e.toString();r.appendChild(H().createTextNode(t))}var Mt=/^\s/,Ut=/\s$/,Gt=/(\n|\t|\r|<|&| {2})/;function I(r,e){typeof e=="string"&&(Mt.test(e)||Ut.test(e)||Gt.test(e))?e.split("]]>").forEach((t,n,o)=>{n<o.length-1&&(t+="]]"),n>0&&(t=">"+t),Ct(r,t)}):r.appendChild(H().createTextNode(e))}var k=["http://www.google.com/kml/ext/2.2"],d=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Yt="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",nt={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},vt=f(d,{ExtendedData:Rt,Region:At,MultiGeometry:c(Et,"geometry"),LineString:c(ht,"geometry"),LinearRing:c(St,"geometry"),Point:c(Nt,"geometry"),Polygon:c(xt,"geometry"),Style:c(be),StyleMap:xn,address:c(_),description:c(_),name:c(_),open:c(b),phoneNumber:c(_),styleUrl:c(ft),visibility:c(b)},f(k,{MultiTrack:c(an,"geometry"),Track:c(pt,"geometry")})),bt=f(d,{ExtendedData:Rt,Region:At,Link:Cn,address:c(_),description:c(_),name:c(_),open:c(b),phoneNumber:c(_),visibility:c(b)}),kt=f(d,{href:c(dt)}),zt=f(d,{Altitude:c(S),Longitude:c(S),Latitude:c(S),Tilt:c(S),AltitudeMode:c(_),Heading:c(S),Roll:c(S)}),at=f(d,{LatLonAltBox:Ln,Lod:Fn}),Xt=f(d,["Document","Placemark"]),Bt=f(d,{Document:m(zn),Placemark:m(Lt)}),J,ce=null;var De,ne,oe,re,de,Oe=null;var Ye,Ce=null;var Me,V=null;var ot=null;var Ue=null;function fe(r){return 32/Math.min(r[0],r[1])}function Zt(){J=[255,255,255,1],ce=new ie({color:J}),De=[20,2],ne="pixels",oe="pixels",re=[64,64],de="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Oe=new Ee({anchor:De,anchorOrigin:"bottom-left",anchorXUnits:ne,anchorYUnits:oe,crossOrigin:"anonymous",rotation:0,scale:fe(re),size:re,src:de}),Ye="NO_IMAGE",Ce=new le({color:J,width:1}),Me=new le({color:[51,51,51,1],width:2}),V=new Ne({font:"bold 16px Helvetica",fill:ce,stroke:Me,scale:.8}),ot=new Z({fill:ce,image:Oe,text:V,stroke:Ce,zIndex:0}),Ue=[ot]}var ae;function Kt(r){return r}var Ge=class extends tt{constructor(e){super(),e=e||{},Ue||Zt(),this.dataProjection=Ze("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:Ue,this.extractStyles_=e.extractStyles!==void 0?e.extractStyles:!0,this.writeStyles_=e.writeStyles!==void 0?e.writeStyles:!0,this.sharedStyles_={},this.showPointNames_=e.showPointNames!==void 0?e.showPointNames:!0,this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:Kt,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){let n=f(d,{Document:Pe(this.readDocumentOrFolder_,this),Folder:Pe(this.readDocumentOrFolder_,this),Placemark:v(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),o=y([],n,e,t,this);if(o)return o}readPlacemark_(e,t){let n=y({geometry:null},vt,e,t,this);if(!n)return;let o=new Ve,i=e.getAttribute("id");i!==null&&o.setId(i);let l=t[0],s=n.geometry;if(s&&Ae(s,!1,l),o.setGeometry(s),delete n.geometry,this.extractStyles_){let a=n.Style,u=n.styleUrl,g=Qt(a,u,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(g)}return delete n.Style,o.setProperties(n,!0),o}readSharedStyle_(e,t){let n=e.getAttribute("id");if(n!==null){let o=be.call(this,e,t);if(o){let i,l=e.baseURI;(!l||l=="about:blank")&&(l=window.location.href),l?i=new URL("#"+n,l).href:i="#"+n,this.sharedStyles_[i]=o}}}readSharedStyleMap_(e,t){let n=e.getAttribute("id");if(n===null)return;let o=gt.call(this,e,t);if(!o)return;let i,l=e.baseURI;(!l||l=="about:blank")&&(l=window.location.href),l?i=new URL("#"+n,l).href:i="#"+n,this.sharedStyles_[i]=o}readFeatureFromNode(e,t){if(!d.includes(e.namespaceURI))return null;let n=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return n||null}readFeaturesFromNode(e,t){if(!d.includes(e.namespaceURI))return[];let n,o=e.localName;if(o=="Document"||o=="Folder")return n=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),n||[];if(o=="Placemark"){let i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return i?[i]:[]}if(o=="kml"){n=[];for(let i=e.firstElementChild;i;i=i.nextElementSibling){let l=this.readFeaturesFromNode(i,t);l&&E(n,l)}return n}return[]}readName(e){if(e){if(typeof e=="string"){let t=G(e);return this.readNameFromDocument(t)}return U(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){let n=this.readNameFromNode(t);if(n)return n}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(d.includes(t.namespaceURI)&&t.localName=="name")return _(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){let n=t.localName;if(d.includes(t.namespaceURI)&&(n=="Document"||n=="Folder"||n=="Placemark"||n=="kml")){let o=this.readNameFromNode(t);if(o)return o}}}readNetworkLinks(e){let t=[];if(typeof e=="string"){let n=G(e);E(t,this.readNetworkLinksFromDocument(n))}else U(e)?E(t,this.readNetworkLinksFromDocument(e)):E(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){let t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&E(t,this.readNetworkLinksFromNode(n));return t}readNetworkLinksFromNode(e){let t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(d.includes(n.namespaceURI)&&n.localName=="NetworkLink"){let o=y({},bt,n,[]);t.push(o)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){let o=n.localName;d.includes(n.namespaceURI)&&(o=="Document"||o=="Folder"||o=="kml")&&E(t,this.readNetworkLinksFromNode(n))}return t}readRegion(e){let t=[];if(typeof e=="string"){let n=G(e);E(t,this.readRegionFromDocument(n))}else U(e)?E(t,this.readRegionFromDocument(e)):E(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){let t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&E(t,this.readRegionFromNode(n));return t}readRegionFromNode(e){let t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(d.includes(n.namespaceURI)&&n.localName=="Region"){let o=y({},at,n,[]);t.push(o)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){let o=n.localName;d.includes(n.namespaceURI)&&(o=="Document"||o=="Folder"||o=="kml")&&E(t,this.readRegionFromNode(n))}return t}readCamera(e){let t=[];if(typeof e=="string"){let n=G(e);E(t,this.readCameraFromDocument(n))}else U(e)?E(t,this.readCameraFromDocument(e)):E(t,this.readCameraFromNode(e));return t}readCameraFromDocument(e){let t=[];for(let n=e.firstChild;n;n=n.nextSibling)n.nodeType===Node.ELEMENT_NODE&&E(t,this.readCameraFromNode(n));return t}readCameraFromNode(e){let t=[];for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(d.includes(n.namespaceURI)&&n.localName==="Camera"){let o=y({},zt,n,[]);t.push(o)}for(let n=e.firstElementChild;n;n=n.nextElementSibling){let o=n.localName;d.includes(n.namespaceURI)&&(o==="Document"||o==="Folder"||o==="Placemark"||o==="kml")&&E(t,this.readCameraFromNode(n))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);let n=W(d[4],"kml"),o="http://www.w3.org/2000/xmlns/";n.setAttributeNS(o,"xmlns:gx",k[0]),n.setAttributeNS(o,"xmlns:xsi",Le),n.setAttributeNS(Le,"xsi:schemaLocation",Yt);let i={node:n},l={};e.length>1?l.Document=e:e.length==1&&(l.Placemark=e[0]);let s=Xt[n.namespaceURI],a=O(l,s);return N(i,Bt,F,a,[t],s,this),n}};function Ht(r,e){let t=[0,0],n="start",o=r.getImage();if(o){let s=o.getSize();if(s&&s.length==2){let a=o.getScaleArray(),u=o.getAnchor();t[0]=a[0]*(s[0]-u[0]),t[1]=a[1]*(s[1]/2-u[1]),n="left"}}let i=r.getText();return i?(i=i.clone(),i.setFont(i.getFont()||V.getFont()),i.setScale(i.getScale()||V.getScale()),i.setFill(i.getFill()||V.getFill()),i.setStroke(i.getStroke()||Me)):i=V.clone(),i.setText(e),i.setOffsetX(t[0]),i.setOffsetY(t[1]),i.setTextAlign(n),new Z({image:o,text:i})}function Qt(r,e,t,n,o){return(function(i,l){let s=o,a="",u=[];if(s){let p=i.getGeometry();if(p)if(p instanceof z)u=p.getGeometriesArrayRecursive().filter(function(h){let x=h.getType();return x==="Point"||x==="MultiPoint"}),s=u.length>0;else{let h=p.getType();s=h==="Point"||h==="MultiPoint"}}s&&(a=i.get("name"),s=s&&!!a,s&&/&[^&]+;/.test(a)&&(ae||(ae=document.createElement("textarea")),ae.innerHTML=a,a=ae.value));let g=t;if(r?g=r:e&&(g=ct(e,t,n)),s){let p=Ht(g[0],a);if(u.length>0){p.setGeometry(new z(u));let h=new Z({geometry:g[0].getGeometry(),image:null,fill:g[0].getFill(),stroke:g[0].getStroke(),text:null});return[p,h].concat(g.slice(1))}return p}return g})}function ct(r,e,t){return Array.isArray(r)?r:typeof r=="string"?ct(t[r],e,t):e}function me(r){let e=P(r,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(t){let n=t[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function ut(r){let e=P(r,!1),t=[];e=e.replace(/\s*,\s*/g,",");let n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,o;for(;o=n.exec(e);){let i=parseFloat(o[1]),l=parseFloat(o[2]),s=o[3]?parseFloat(o[3]):0;t.push(i,l,s),e=e.substr(o[0].length)}if(e==="")return t}function dt(r){let e=P(r,!1).trim(),t=r.baseURI;return(!t||t=="about:blank")&&(t=window.location.href),t?new URL(e,t).href:e}function ft(r){let e=P(r,!1).trim().replace(/^(?!.*#)/,"#"),t=r.baseURI;return(!t||t=="about:blank")&&(t=window.location.href),t?new URL(e,t).href:e}function Vt(r){let e=r.getAttribute("xunits"),t=r.getAttribute("yunits"),n;return e!=="insetPixels"?t!=="insetPixels"?n="bottom-left":n="top-left":t!=="insetPixels"?n="bottom-right":n="top-right",{x:parseFloat(r.getAttribute("x")),xunits:nt[e],y:parseFloat(r.getAttribute("y")),yunits:nt[t],origin:n}}function mt(r){return S(r)}var $t=f(d,{Pair:Nn});function gt(r,e){return y(void 0,$t,r,e,this)}var qt=f(d,{Icon:c(dn),color:c(me),heading:c(S),hotSpot:c(Vt),scale:c(mt)});function Wt(r,e){let t=y({},qt,r,e);if(!t)return;let n=e[e.length-1],o="Icon"in t?t.Icon:{},i=!("Icon"in t)||Object.keys(o).length>0,l,s=o.href;s?l=s:i&&(l=de);let a,u,g,p="bottom-left",h=t.hotSpot;h?(a=[h.x,h.y],u=h.xunits,g=h.yunits,p=h.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(l)&&(l.includes("pushpin")?(a=De,u=ne,g=oe):l.includes("arrow-reverse")?(a=[54,42],u=ne,g=oe):l.includes("paddle")&&(a=[32,1],u=ne,g=oe));let x,R=o.x,Y=o.y;R!==void 0&&Y!==void 0&&(x=[R,Y]);let A,T=o.w,w=o.h;T!==void 0&&w!==void 0&&(A=[T,w]);let D,L=t.heading;L!==void 0&&(D=Be(L));let ee=t.scale,B=t.color;if(i){l==de&&(A=re);let C=new Ee({anchor:a,anchorOrigin:p,anchorXUnits:u,anchorYUnits:g,crossOrigin:this.crossOrigin_,offset:x,offsetOrigin:"bottom-left",rotation:D,scale:ee,size:A,src:this.iconUrlFunction_(l),color:B}),ke=C.getScaleArray()[0],pe=C.getSize();if(pe===null){let te=C.getImageState();if(te===q.IDLE||te===q.LOADING){let ze=function(){let Xe=C.getImageState();if(!(Xe===q.IDLE||Xe===q.LOADING)){let he=C.getSize();if(he&&he.length==2){let It=fe(he);C.setScale(ke*It)}C.unlistenImageChange(ze)}};C.listenImageChange(ze),te===q.IDLE&&C.load()}}else if(pe.length==2){let te=fe(pe);C.setScale(ke*te)}n.imageStyle=C}else n.imageStyle=Ye}var Jt=f(d,{color:c(me),scale:c(mt)});function jt(r,e){let t=y({},Jt,r,e);if(!t)return;let n=e[e.length-1],o=new Ne({fill:new ie({color:"color"in t?t.color:J}),scale:t.scale});n.textStyle=o}var en=f(d,{color:c(me),width:c(S)});function tn(r,e){let t=y({},en,r,e);if(!t)return;let n=e[e.length-1],o=new le({color:"color"in t?t.color:J,width:"width"in t?t.width:1});n.strokeStyle=o}var nn=f(d,{color:c(me),fill:c(b),outline:c(b)});function on(r,e){let t=y({},nn,r,e);if(!t)return;let n=e[e.length-1],o=new ie({color:"color"in t?t.color:J});n.fillStyle=o;let i=t.fill;i!==void 0&&(n.fill=i);let l=t.outline;l!==void 0&&(n.outline=l)}var rn=f(d,{coordinates:se(ut)});function yt(r,e){return y(null,rn,r,e)}function ln(r,e){let n=e[e.length-1].coordinates,o=P(r,!1),l=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(o);if(l){let s=parseFloat(l[1]),a=parseFloat(l[2]),u=parseFloat(l[3]);n.push([s,a,u])}else n.push([])}var sn=f(k,{Track:v(pt)});function an(r,e){let t=y([],sn,r,e);if(t)return new Re(t)}var cn=f(d,{when:Mn},f(k,{coord:ln}));function pt(r,e){let t=y({coordinates:[],whens:[]},cn,r,e);if(!t)return;let n=[],o=t.coordinates,i=t.whens;for(let l=0,s=Math.min(o.length,i.length);l<s;++l)o[l].length==3&&n.push(o[l][0],o[l][1],o[l][2],i[l]);return new xe(n,"XYZM")}var un=f(d,{href:c(dt)},f(k,{x:c(S),y:c(S),w:c(S),h:c(S)}));function dn(r,e){let t=y({},un,r,e);return t||null}var fn=f(d,{coordinates:se(ut)});function ve(r,e){return y(null,fn,r,e)}var ge=f(d,{extrude:c(b),tessellate:c(b),altitudeMode:c(_)});function ht(r,e){let t=y({},ge,r,e),n=ve(r,e);if(n){let o=new xe(n,"XYZ");return o.setProperties(t,!0),o}}function St(r,e){let t=y({},ge,r,e),n=ve(r,e);if(n){let o=new Se(n,"XYZ",[n.length]);return o.setProperties(t,!0),o}}var mn=f(d,{LineString:v(ht),LinearRing:v(St),MultiGeometry:v(Et),Point:v(Nt),Polygon:v(xt)});function Et(r,e){let t=y([],mn,r,e);if(!t)return null;if(t.length===0)return new z(t);let n,o=!0,i=t[0].getType(),l;for(let s=1,a=t.length;s<a;++s)if(l=t[s],l.getType()!=i){o=!1;break}if(o){let s,a;if(i=="Point"){let u=t[0];s=u.getLayout(),a=u.getFlatCoordinates();for(let g=1,p=t.length;g<p;++g)l=t[g],E(a,l.getFlatCoordinates());n=new $e(a,s),Ie(n,t)}else if(i=="LineString")n=new Re(t),Ie(n,t);else if(i=="Polygon")n=new qe(t),Ie(n,t);else if(i=="GeometryCollection"||i.startsWith("Multi"))n=new z(t);else throw new Error("Unknown geometry type found")}else n=new z(t);return n}function Nt(r,e){let t=y({},ge,r,e),n=ve(r,e);if(n){let o=new He(n,"XYZ");return o.setProperties(t,!0),o}}var gn=f(d,{innerBoundaryIs:wn,outerBoundaryIs:On});function xt(r,e){let t=y({},ge,r,e),n=y([null],gn,r,e);if(n&&n[0]){let o=n[0],i=[o.length];for(let s=1,a=n.length;s<a;++s)E(o,n[s]),i.push(o.length);let l=new Se(o,"XYZ",i);return l.setProperties(t,!0),l}}var yn=f(d,{IconStyle:Wt,LabelStyle:jt,LineStyle:tn,PolyStyle:on});function be(r,e){let t=y({},yn,r,e,this);if(!t)return null;let n="fillStyle"in t?t.fillStyle:ce,o=t.fill;o!==void 0&&!o&&(n=null);let i;"imageStyle"in t?t.imageStyle!=Ye&&(i=t.imageStyle):i=Oe;let l="textStyle"in t?t.textStyle:V,s="strokeStyle"in t?t.strokeStyle:Ce,a=t.outline;return a!==void 0&&!a?[new Z({geometry:function(u){let g=u.getGeometry(),p=g.getType();if(p==="GeometryCollection"){let h=g;return new z(h.getGeometriesArrayRecursive().filter(function(x){let R=x.getType();return R!=="Polygon"&&R!=="MultiPolygon"}))}if(p!=="Polygon"&&p!=="MultiPolygon")return g},fill:n,image:i,stroke:s,text:l,zIndex:void 0}),new Z({geometry:function(u){let g=u.getGeometry(),p=g.getType();if(p==="GeometryCollection"){let h=g;return new z(h.getGeometriesArrayRecursive().filter(function(x){let R=x.getType();return R==="Polygon"||R==="MultiPolygon"}))}if(p==="Polygon"||p==="MultiPolygon")return g},fill:n,stroke:null,zIndex:void 0})]:[new Z({fill:n,image:i,stroke:s,text:l,zIndex:void 0})]}function Ie(r,e){let t=e.length,n=new Array(e.length),o=new Array(e.length),i=new Array(e.length),l,s,a;l=!1,s=!1,a=!1;for(let u=0;u<t;++u){let g=e[u];n[u]=g.get("extrude"),o[u]=g.get("tessellate"),i[u]=g.get("altitudeMode"),l=l||n[u]!==void 0,s=s||o[u]!==void 0,a=a||i[u]}l&&r.set("extrude",n),s&&r.set("tessellate",o),a&&r.set("altitudeMode",i)}var pn=f(d,{displayName:c(_),value:c(_)});function hn(r,e){let t=r.getAttribute("name");K(pn,r,e);let n=e[e.length-1];t&&n.displayName?n[t]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:t!==null?n[t]=n.value:n.displayName!==null&&(n[n.displayName]=n.value),delete n.value}var Sn=f(d,{Data:hn,SchemaData:An});function Rt(r,e){K(Sn,r,e)}function At(r,e){K(at,r,e)}var En=f(d,{Style:c(be),key:c(_),styleUrl:c(ft)});function Nn(r,e){let t=y({},En,r,e,this);if(!t)return;let n=t.key;if(n&&n=="normal"){let o=t.styleUrl;o&&(e[e.length-1]=o);let i=t.Style;i&&(e[e.length-1]=i)}}function xn(r,e){let t=gt.call(this,r,e);if(!t)return;let n=e[e.length-1];if(Array.isArray(t))n.Style=t;else if(typeof t=="string")n.styleUrl=t;else throw new Error("`styleMapValue` has an unknown type")}var Rn=f(d,{SimpleData:_n});function An(r,e){K(Rn,r,e)}function _n(r,e){let t=r.getAttribute("name");if(t!==null){let n=_(r),o=e[e.length-1];o[t]=n}}var Tn=f(d,{altitudeMode:c(_),minAltitude:c(S),maxAltitude:c(S),north:c(S),south:c(S),east:c(S),west:c(S)});function Ln(r,e){let t=y({},Tn,r,e);if(!t)return;let n=e[e.length-1],o=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];n.extent=o,n.altitudeMode=t.altitudeMode,n.minAltitude=parseFloat(t.minAltitude),n.maxAltitude=parseFloat(t.maxAltitude)}var Pn=f(d,{minLodPixels:c(S),maxLodPixels:c(S),minFadeExtent:c(S),maxFadeExtent:c(S)});function Fn(r,e){let t=y({},Pn,r,e);if(!t)return;let n=e[e.length-1];n.minLodPixels=parseFloat(t.minLodPixels),n.maxLodPixels=parseFloat(t.maxLodPixels),n.minFadeExtent=parseFloat(t.minFadeExtent),n.maxFadeExtent=parseFloat(t.maxFadeExtent)}var In=f(d,{LinearRing:v(yt)});function wn(r,e){let t=y([],In,r,e);t.length>0&&e[e.length-1].push(...t)}var Dn=f(d,{LinearRing:se(yt)});function On(r,e){let t=y(void 0,Dn,r,e);if(t){let n=e[e.length-1];n[0]=t}}function Cn(r,e){K(kt,r,e)}function Mn(r,e){let n=e[e.length-1].whens,o=P(r,!1),i=Date.parse(o);n.push(isNaN(i)?0:i)}function ye(r,e){let t=Qe(e),o=[(t.length==4?t[3]:1)*255,t[2],t[1],t[0]];for(let i=0;i<4;++i){let l=Math.floor(o[i]).toString(16);o[i]=l.length==1?"0"+l:l}I(r,o.join(""))}function Un(r,e,t){let n=t[t.length-1],o=n.layout,i=n.stride,l;if(o=="XY"||o=="XYM")l=2;else if(o=="XYZ"||o=="XYZM")l=3;else throw new Error("Invalid geometry layout");let s=e.length,a="";if(s>0){a+=e[0];for(let u=1;u<l;++u)a+=","+e[u];for(let u=i;u<s;u+=i){a+=" "+e[u];for(let g=1;g<l;++g)a+=","+e[u+g]}}I(r,a)}var ue=f(d,{Data:m(Gn),value:m(vn),displayName:m(Yn)});function Gn(r,e,t){r.setAttribute("name",e.name);let n={node:r},o=e.value;typeof o=="object"?(o!==null&&o.displayName&&N(n,ue,F,[o.displayName],t,["displayName"]),o!==null&&o.value&&N(n,ue,F,[o.value],t,["value"])):N(n,ue,F,[o],t,["value"])}function Yn(r,e){I(r,e)}function vn(r,e){I(r,e)}var bn=f(d,{Placemark:m(Lt)}),kn=function(r,e,t){let n=e[e.length-1].node;return W(n.namespaceURI,"Placemark")};function zn(r,e,t){N({node:r},bn,kn,e,t,void 0,this)}var Xn=M("Data");function Bn(r,e,t){let n={node:r},o=e.names,i=e.values,l=o.length;for(let s=0;s<l;s++)N(n,ue,Xn,[{name:o[s],value:i[s]}],t)}var rt=f(d,["href"],f(k,["x","y","w","h"])),it=f(d,{href:m(I)},f(k,{x:m(X),y:m(X),w:m(X),h:m(X)})),Zn=function(r,e,t){return W(k[0],"gx:"+t)};function Kn(r,e,t){let n={node:r},o=t[t.length-1].node,i=rt[o.namespaceURI],l=O(e,i);N(n,it,F,l,t,i),i=rt[k[0]],l=O(e,i),N(n,it,Zn,l,t,i)}var Hn=f(d,["scale","heading","Icon","color","hotSpot"]),Qn=f(d,{Icon:m(Kn),color:m(ye),heading:m(X),hotSpot:m(xo),scale:m(Ft)});function Vn(r,e,t){let n={node:r},o={},i=e.getSrc(),l=e.getSize(),s=e.getImageSize(),a={href:i};if(l){a.w=l[0],a.h=l[1];let A=e.getAnchor(),T=e.getOrigin();if(T&&s&&T[0]!==0&&T[1]!==l[1]&&(a.x=T[0],a.y=s[1]-(T[1]+l[1])),A&&(A[0]!==l[0]/2||A[1]!==l[1]/2)){let w={x:A[0],xunits:"pixels",y:l[1]-A[1],yunits:"pixels"};o.hotSpot=w}}o.Icon=a;let u=e.getScaleArray()[0],g=l;if(g===null&&(g=re),g.length==2){let A=fe(g);u=u/A}u!==1&&(o.scale=u);let p=e.getRotation();p!==0&&(o.heading=p);let h=e.getColor();h&&(o.color=h);let x=t[t.length-1].node,R=Hn[x.namespaceURI],Y=O(o,R);N(n,Qn,F,Y,t,R)}var $n=f(d,["color","scale"]),qn=f(d,{color:m(ye),scale:m(Ft)});function Wn(r,e,t){let n={node:r},o={},i=e.getFill();i&&(o.color=i.getColor());let l=e.getScale();l&&l!==1&&(o.scale=l);let s=t[t.length-1].node,a=$n[s.namespaceURI],u=O(o,a);N(n,qn,F,u,t,a)}var Jn=f(d,["color","width"]),jn=f(d,{color:m(ye),width:m(X)});function eo(r,e,t){let n={node:r},o={color:e.getColor(),width:Number(e.getWidth())||1},i=t[t.length-1].node,l=Jn[i.namespaceURI],s=O(o,l);N(n,jn,F,s,t,l)}var to={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},_t=function(r,e,t){if(r){let n=e[e.length-1].node;return W(n.namespaceURI,to[r.getType()])}},no=M("Point"),oo=M("LineString"),ro=M("LinearRing"),io=M("Polygon"),lo=f(d,{LineString:m(j),Point:m(j),Polygon:m(Pt),GeometryCollection:m(Tt)});function Tt(r,e,t){let n={node:r},o=e.getType(),i=[],l;if(o==="GeometryCollection")e.getGeometriesArrayRecursive().forEach(function(s){let a=s.getType();if(a==="MultiPoint")i=i.concat(s.getPoints());else if(a==="MultiLineString")i=i.concat(s.getLineStrings());else if(a==="MultiPolygon")i=i.concat(s.getPolygons());else if(a==="Point"||a==="LineString"||a==="Polygon")i.push(s);else throw new Error("Unknown geometry type")}),l=_t;else if(o==="MultiPoint")i=e.getPoints(),l=no;else if(o==="MultiLineString")i=e.getLineStrings(),l=oo;else if(o==="MultiPolygon")i=e.getPolygons(),l=io;else throw new Error("Unknown geometry type");N(n,lo,l,i,t)}var so=f(d,{LinearRing:m(j)});function lt(r,e,t){N({node:r},so,ro,[e],t)}var we=f(d,{ExtendedData:m(Bn),MultiGeometry:m(Tt),LineString:m(j),LinearRing:m(j),Point:m(j),Polygon:m(Pt),Style:m(No),address:m(I),description:m(I),name:m(I),open:m(Q),phoneNumber:m(I),styleUrl:m(I),visibility:m(Q)}),ao=f(d,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),co=M("ExtendedData");function Lt(r,e,t){let n={node:r};e.getId()&&r.setAttribute("id",e.getId());let o=e.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.getGeometryName()]=1;let l=Object.keys(o||{}).sort().filter(function(x){return!i[x]}),s=e.getStyleFunction();if(s){let x=s(e,0);if(x){let R=Array.isArray(x)?x:[x],Y=R;if(e.getGeometry()&&(Y=R.filter(function(A){let T=A.getGeometryFunction()(e);if(T){let w=T.getType();return w==="GeometryCollection"?T.getGeometriesArrayRecursive().filter(function(D){let L=D.getType();return L==="Point"||L==="MultiPoint"}).length:w==="Point"||w==="MultiPoint"}})),this.writeStyles_){let A=R,T=R;e.getGeometry()&&(A=R.filter(function(w){let D=w.getGeometryFunction()(e);if(D){let L=D.getType();return L==="GeometryCollection"?D.getGeometriesArrayRecursive().filter(function(ee){let B=ee.getType();return B==="LineString"||B==="MultiLineString"}).length:L==="LineString"||L==="MultiLineString"}}),T=R.filter(function(w){let D=w.getGeometryFunction()(e);if(D){let L=D.getType();return L==="GeometryCollection"?D.getGeometriesArrayRecursive().filter(function(ee){let B=ee.getType();return B==="Polygon"||B==="MultiPolygon"}).length:L==="Polygon"||L==="MultiPolygon"}})),o.Style={pointStyles:Y,lineStyles:A,polyStyles:T}}if(Y.length&&o.name===void 0){let A=Y[0].getText();A&&(o.name=A.getText())}}}let a=t[t.length-1].node,u=ao[a.namespaceURI],g=O(o,u);if(N(n,we,F,g,t,u),l.length>0){let x=O(o,l);N(n,we,co,[{names:l,values:x}],t)}let p=t[0],h=e.getGeometry();h&&(h=Ae(h,!0,p)),N(n,we,_t,[h],t)}var uo=f(d,["extrude","tessellate","altitudeMode","coordinates"]),fo=f(d,{extrude:m(Q),tessellate:m(Q),altitudeMode:m(I),coordinates:m(Un)});function j(r,e,t){let n=e.getFlatCoordinates(),o={node:r};o.layout=e.getLayout(),o.stride=e.getStride();let i=e.getProperties();i.coordinates=n;let l=t[t.length-1].node,s=uo[l.namespaceURI],a=O(i,s);N(o,fo,F,a,t,s)}var mo=f(d,["color","fill","outline"]),st=f(d,{outerBoundaryIs:m(lt),innerBoundaryIs:m(lt)}),go=M("innerBoundaryIs"),yo=M("outerBoundaryIs");function Pt(r,e,t){let n=e.getLinearRings(),o=n.shift(),i={node:r};N(i,st,go,n,t),N(i,st,yo,[o],t)}var po=f(d,{color:m(ye),fill:m(Q),outline:m(Q)});function ho(r,e,t){let n={node:r},o=e.getFill(),i=e.getStroke(),l={color:o?o.getColor():void 0,fill:o?void 0:!1,outline:i?void 0:!1},s=t[t.length-1].node,a=mo[s.namespaceURI],u=O(l,a);N(n,po,F,u,t,a)}function Ft(r,e){X(r,Math.round(e*1e6)/1e6)}var So=f(d,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Eo=f(d,{IconStyle:m(Vn),LabelStyle:m(Wn),LineStyle:m(eo),PolyStyle:m(ho)});function No(r,e,t){let n={node:r},o={};if(e.pointStyles.length){let a=e.pointStyles[0].getText();a&&(o.LabelStyle=a);let u=e.pointStyles[0].getImage();u&&typeof u.getSrc=="function"&&(o.IconStyle=u)}if(e.lineStyles.length){let a=e.lineStyles[0].getStroke();a&&(o.LineStyle=a)}if(e.polyStyles.length){let a=e.polyStyles[0].getStroke();a&&!o.LineStyle&&(o.LineStyle=a),o.PolyStyle=e.polyStyles[0]}let i=t[t.length-1].node,l=So[i.namespaceURI],s=O(o,l);N(n,Eo,F,s,t,l)}function xo(r,e){r.setAttribute("x",String(e.x)),r.setAttribute("y",String(e.y)),r.setAttribute("xunits",e.xunits),r.setAttribute("yunits",e.yunits)}var ir=Ge;export{Le as a,W as b,U as c,G as d,v as e,c as f,m as g,Ao as h,M as i,F as j,O as k,f as l,K as m,y as n,N as o,tt as p,Oo as q,S as r,Co as s,_ as t,Mo as u,X as v,Uo as w,I as x,ir as y};
