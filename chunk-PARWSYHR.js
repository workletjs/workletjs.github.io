import{x as d}from"./chunk-6YFIEOLQ.js";function x(n,e,s,u){let r=document.createElement("script"),t="olc_"+d(e);function i(){delete window[t],r.parentNode.removeChild(r)}r.async=!0,r.src=n+(n.includes("?")?"&":"?")+(u||"callback")+"="+t;let o=setTimeout(function(){i(),s&&s()},1e4);window[t]=function(c){clearTimeout(o),i(),e(c)},document.head.appendChild(r)}var a=class extends Error{constructor(e){let s="Unexpected response status: "+e.status;super(s),this.name="ResponseError",this.response=e}},p=class extends Error{constructor(e){super("Failed to issue request"),this.name="ClientError",this.client=e}};function g(n){return new Promise(function(e,s){function u(i){let o=i.target;if(!o.status||o.status>=200&&o.status<300){let c;try{c=JSON.parse(o.responseText)}catch(l){let f="Error parsing response text as JSON: "+l.message;s(new Error(f));return}e(c);return}s(new a(o))}function r(i){s(new p(i.target))}let t=new XMLHttpRequest;t.addEventListener("load",u),t.addEventListener("error",r),t.open("GET",n),t.setRequestHeader("Accept","application/json"),t.send()})}function w(n,e){return e.includes("://")?e:new URL(e,n).href}export{x as a,g as b,w as c};
